{"version":3,"file":"static/js/main.a16f1200.js","mappings":"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","sources":["src/Game.tsx","App.tsx","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/define property getters","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport * as THREE from 'three';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\n\r\n// Game constants\r\nconst OBSTACLE_TYPES = {\r\n  rock: {\r\n    geometry: new THREE.DodecahedronGeometry(1, 0),\r\n    color: 0x808080,\r\n    scale: 1,\r\n    probability: 0.6\r\n  },\r\n  log: {\r\n    geometry: new THREE.CylinderGeometry(0.5, 0.5, 4, 8),\r\n    color: 0x8B4513,\r\n    scale: 1,\r\n    probability: 0.4\r\n  }\r\n};\r\n\r\nconst FISH_TYPES = {\r\n  normal: {\r\n    geometry: new THREE.ConeGeometry(0.5, 2, 8),\r\n    color: 0xFFD700,\r\n    scale: 1,\r\n    speed: 1,\r\n    points: 1,\r\n    probability: 0.7\r\n  },\r\n  rare: {\r\n    geometry: new THREE.ConeGeometry(0.5, 2, 8),\r\n    color: 0xFF69B4,\r\n    scale: 1.2,\r\n    speed: 1.2,\r\n    points: 3,\r\n    probability: 0.3\r\n  }\r\n};\r\n\r\nconst defaultLeaderboard = () => {\r\n  try {\r\n    return JSON.parse(localStorage.getItem('otterRiverLeaderboard') || '[]');\r\n  } catch {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst Game: React.FC = () => {\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  // Game state\r\n  const [score, setScore] = useState(0);\r\n  const [lives, setLives] = useState(3);\r\n  const [level, setLevel] = useState(1);\r\n  const [gameStarted, setGameStarted] = useState(false);\r\n  const [gameOver, setGameOver] = useState(false);\r\n  const [playerName, setPlayerName] = useState('');\r\n  const [leaderboard, setLeaderboard] = useState(defaultLeaderboard());\r\n  const [gameTime, setGameTime] = useState(0);\r\n\r\n  // Three.js refs\r\n  const sceneRef = useRef<THREE.Scene | null>(null);\r\n  const cameraRef = useRef<THREE.PerspectiveCamera | null>(null);\r\n  const rendererRef = useRef<THREE.WebGLRenderer | null>(null);\r\n  const otterRef = useRef<THREE.Object3D | null>(null);\r\n  const riverRef = useRef<THREE.Object3D | null>(null);\r\n  const obstaclesRef = useRef<THREE.Object3D[]>([]);\r\n  const fishRef = useRef<THREE.Object3D[]>([]);\r\n  const lastObstacleTimeRef = useRef(0);\r\n  const lastFishTimeRef = useRef(0);\r\n  const gameTimeRef = useRef(0);\r\n  const timerIntervalRef = useRef<NodeJS.Timeout | null>(null);\r\n  const baseSpeedRef = useRef(0.2);\r\n  const obstacleSpawnIntervalRef = useRef(300);\r\n  const currentObstacleIntervalRef = useRef(300);\r\n  const animationFrameRef = useRef<number | null>(null);\r\n\r\n  // Movement controls\r\n  const keysRef = useRef({\r\n    ArrowUp: false,\r\n    ArrowDown: false,\r\n    ArrowLeft: false,\r\n    ArrowRight: false,\r\n    w: false,\r\n    a: false,\r\n    s: false,\r\n    d: false\r\n  });\r\n\r\n  // UI overlays\r\n  const StartScreen = () => (\r\n    <div style={{\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      display: gameStarted ? 'none' : 'flex',\r\n      flexDirection: 'column',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n      zIndex: 1000,\r\n      fontFamily: 'Arial, sans-serif'\r\n    }}>\r\n      <h1 style={{\r\n        fontSize: '4rem',\r\n        color: '#fff',\r\n        textShadow: '2px 2px 4px rgba(0, 0, 0, 0.5)',\r\n        marginBottom: '2rem',\r\n        fontWeight: 'bold'\r\n      }}>Otter River Adventure</h1>\r\n      <button\r\n        onClick={startGame}\r\n        style={{\r\n          padding: '1rem 2rem',\r\n          fontSize: '1.5rem',\r\n          backgroundColor: '#4CAF50',\r\n          color: 'white',\r\n          border: 'none',\r\n          borderRadius: '5px',\r\n          cursor: 'pointer',\r\n          transition: 'background-color 0.3s',\r\n          fontWeight: 'bold',\r\n          textTransform: 'uppercase',\r\n          boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\r\n        }}\r\n        onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#45a049'}\r\n        onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#4CAF50'}\r\n      >\r\n        Start Game\r\n      </button>\r\n      <div style={{\r\n        marginTop: '2rem',\r\n        color: '#fff',\r\n        textAlign: 'center',\r\n        fontSize: '1.2rem',\r\n        textShadow: '1px 1px 2px rgba(0, 0, 0, 0.5)'\r\n      }}>\r\n        <p>Use arrow keys or WASD to move</p>\r\n        <p>Collect fish and avoid obstacles!</p>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const GameOverScreen = () => (\r\n    <div style={{\r\n      position: 'absolute',\r\n      top: 0,\r\n      left: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      display: gameOver ? 'flex' : 'none',\r\n      flexDirection: 'column',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n      zIndex: 1000,\r\n      fontFamily: 'Arial, sans-serif'\r\n    }}>\r\n      <h1 style={{\r\n        fontSize: '4rem',\r\n        color: '#fff',\r\n        textShadow: '2px 2px 4px rgba(0, 0, 0, 0.5)',\r\n        marginBottom: '1rem',\r\n        fontWeight: 'bold'\r\n      }}>Game Over</h1>\r\n      <p style={{\r\n        fontSize: '2rem',\r\n        color: '#fff',\r\n        marginBottom: '2rem',\r\n        textShadow: '1px 1px 2px rgba(0, 0, 0, 0.5)'\r\n      }}>\r\n        Score: {score}\r\n      </p>\r\n      <div style={{\r\n        display: 'flex',\r\n        gap: '1rem',\r\n        marginBottom: '2rem'\r\n      }}>\r\n        <input\r\n          type=\"text\"\r\n          value={playerName}\r\n          onChange={(e) => setPlayerName(e.target.value)}\r\n          placeholder=\"Enter your name\"\r\n          style={{\r\n            padding: '0.5rem 1rem',\r\n            fontSize: '1.2rem',\r\n            borderRadius: '5px',\r\n            border: '2px solid #4CAF50',\r\n            backgroundColor: 'rgba(255, 255, 255, 0.9)'\r\n          }}\r\n        />\r\n        <button\r\n          onClick={submitScore}\r\n          style={{\r\n            padding: '0.5rem 1rem',\r\n            fontSize: '1.2rem',\r\n            backgroundColor: '#4CAF50',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '5px',\r\n            cursor: 'pointer',\r\n            transition: 'background-color 0.3s',\r\n            fontWeight: 'bold'\r\n          }}\r\n          onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#45a049'}\r\n          onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#4CAF50'}\r\n        >\r\n          Submit Score\r\n        </button>\r\n      </div>\r\n      <div style={{\r\n        marginTop: '2rem',\r\n        color: '#fff',\r\n        textAlign: 'center'\r\n      }}>\r\n        <h2 style={{\r\n          fontSize: '2rem',\r\n          marginBottom: '1rem',\r\n          textShadow: '1px 1px 2px rgba(0, 0, 0, 0.5)'\r\n        }}>Leaderboard</h2>\r\n        {leaderboard.map((entry, index) => (\r\n          <div key={index} style={{\r\n            fontSize: '1.2rem',\r\n            marginBottom: '0.5rem',\r\n            textShadow: '1px 1px 2px rgba(0, 0, 0, 0.5)'\r\n          }}>\r\n            {entry.name}: {entry.score}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <button\r\n        onClick={restartGame}\r\n        style={{\r\n          marginTop: '2rem',\r\n          padding: '1rem 2rem',\r\n          fontSize: '1.5rem',\r\n          backgroundColor: '#4CAF50',\r\n          color: 'white',\r\n          border: 'none',\r\n          borderRadius: '5px',\r\n          cursor: 'pointer',\r\n          transition: 'background-color 0.3s',\r\n          fontWeight: 'bold',\r\n          textTransform: 'uppercase',\r\n          boxShadow: '0 4px 6px rgba(0, 0, 0, 0.1)'\r\n        }}\r\n        onMouseOver={(e) => e.currentTarget.style.backgroundColor = '#45a049'}\r\n        onMouseOut={(e) => e.currentTarget.style.backgroundColor = '#4CAF50'}\r\n      >\r\n        Play Again\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  const GameInfo = () => (\r\n    <div style={{\r\n      position: 'absolute',\r\n      top: '20px',\r\n      left: '20px',\r\n      color: '#fff',\r\n      fontSize: '1.5rem',\r\n      textShadow: '2px 2px 4px rgba(0, 0, 0, 0.5)',\r\n      zIndex: 100,\r\n      fontFamily: 'Arial, sans-serif',\r\n      fontWeight: 'bold'\r\n    }}>\r\n      <div style={{ marginBottom: '0.5rem' }}>Score: {score}</div>\r\n      <div style={{ marginBottom: '0.5rem' }}>Lives: {lives}</div>\r\n      <div style={{ marginBottom: '0.5rem' }}>Level: {level}</div>\r\n      <div>Time: {Math.floor(gameTime / 60)}:{Math.floor(gameTime % 60).toString().padStart(2, '0')}</div>\r\n    </div>\r\n  );\r\n\r\n  // Add touch controls state\r\n  const [touchStart, setTouchStart] = useState({ x: 0, y: 0 });\r\n  const [touchActive, setTouchActive] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!containerRef.current) return;\r\n\r\n    // Initialize Three.js scene\r\n    const scene = new THREE.Scene();\r\n    scene.background = new THREE.Color(0x87CEEB);\r\n    scene.fog = new THREE.Fog(0x87CEEB, 20, 100);\r\n    sceneRef.current = scene;\r\n\r\n    // Create camera with original settings\r\n    const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);\r\n    (camera as any).position.set(0, 15, 20);\r\n    (camera as any).lookAt(0, 0, -100);\r\n    cameraRef.current = camera;\r\n    scene.add(camera);\r\n\r\n    // Create renderer with original settings\r\n    const renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n    (renderer as any).shadowMap.enabled = true;\r\n    (renderer as any).shadowMap.type = THREE.PCFSoftShadowMap;\r\n    rendererRef.current = renderer;\r\n    containerRef.current.appendChild(renderer.domElement);\r\n\r\n    // Add lights with original settings\r\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\r\n    scene.add(ambientLight);\r\n\r\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);\r\n    (directionalLight as any).position.set(5, 5, 5);\r\n    directionalLight.castShadow = true;\r\n    directionalLight.shadow.mapSize.width = 2048;\r\n    directionalLight.shadow.mapSize.height = 2048;\r\n    scene.add(directionalLight);\r\n\r\n    // Create environment\r\n    createEnvironment();\r\n\r\n    // Create river\r\n    createRiver();\r\n\r\n    // Create otter\r\n    createOtter();\r\n\r\n    // Add event listeners\r\n    window.addEventListener('resize', onWindowResize);\r\n    window.addEventListener('keydown', onKeyDown);\r\n    window.addEventListener('keyup', onKeyUp);\r\n\r\n    // Add touch event listeners\r\n    const handleTouchStart = (e: TouchEvent) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      const touch = e.touches[0];\r\n      setTouchStart({ x: touch.clientX, y: touch.clientY });\r\n      setTouchActive(true);\r\n    };\r\n\r\n    const handleTouchMove = (e: TouchEvent) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      if (!touchActive) return;\r\n      const touch = e.touches[0];\r\n      const deltaX = touch.clientX - touchStart.x;\r\n      const deltaY = touch.clientY - touchStart.y;\r\n\r\n      // Update key states based on touch movement\r\n      keysRef.current.ArrowLeft = deltaX < -20;\r\n      keysRef.current.ArrowRight = deltaX > 20;\r\n      keysRef.current.ArrowUp = deltaY < -20;\r\n      keysRef.current.ArrowDown = deltaY > 20;\r\n    };\r\n\r\n    const handleTouchEnd = (e: TouchEvent) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      setTouchActive(false);\r\n      // Reset all movement keys\r\n      Object.keys(keysRef.current).forEach(key => {\r\n        keysRef.current[key as keyof typeof keysRef.current] = false;\r\n      });\r\n    };\r\n\r\n    // Add touch event listeners\r\n    containerRef.current.addEventListener('touchstart', handleTouchStart, { passive: false });\r\n    containerRef.current.addEventListener('touchmove', handleTouchMove, { passive: false });\r\n    containerRef.current.addEventListener('touchend', handleTouchEnd, { passive: false });\r\n\r\n    // Start animation loop\r\n    const animate = () => {\r\n      if (!sceneRef.current || !cameraRef.current || !rendererRef.current) return;\r\n      animationFrameRef.current = requestAnimationFrame(animate);\r\n      \r\n      if (gameStarted && !gameOver) {\r\n        update();\r\n      }\r\n      rendererRef.current.render(sceneRef.current, cameraRef.current);\r\n    };\r\n    animate();\r\n\r\n    // Cleanup function\r\n    return () => {\r\n      window.removeEventListener('resize', onWindowResize);\r\n      window.removeEventListener('keydown', onKeyDown);\r\n      window.removeEventListener('keyup', onKeyUp);\r\n      if (containerRef.current) {\r\n        containerRef.current.removeEventListener('touchstart', handleTouchStart);\r\n        containerRef.current.removeEventListener('touchmove', handleTouchMove);\r\n        containerRef.current.removeEventListener('touchend', handleTouchEnd);\r\n      }\r\n      if (timerIntervalRef.current) {\r\n        clearInterval(timerIntervalRef.current);\r\n      }\r\n      if (animationFrameRef.current) {\r\n        cancelAnimationFrame(animationFrameRef.current);\r\n      }\r\n      if (rendererRef.current) {\r\n        rendererRef.current.dispose();\r\n        if (containerRef.current && rendererRef.current.domElement) {\r\n          containerRef.current.removeChild(rendererRef.current.domElement);\r\n        }\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const update = () => {\r\n    if (!gameStarted || gameOver) return;\r\n\r\n    // Move otter based on key presses\r\n    if (!otterRef.current) return;\r\n    const moveSpeed = 0.2;\r\n    let moving = false;\r\n    let targetRotation = (otterRef.current as any).rotation.y;\r\n\r\n    if (keysRef.current.ArrowUp || keysRef.current.w) {\r\n      (otterRef.current as any).position.z -= moveSpeed;\r\n      targetRotation = Math.PI;\r\n      moving = true;\r\n    }\r\n    if (keysRef.current.ArrowDown || keysRef.current.s) {\r\n      (otterRef.current as any).position.z += moveSpeed;\r\n      targetRotation = 0;\r\n      moving = true;\r\n    }\r\n    if (keysRef.current.ArrowLeft || keysRef.current.a) {\r\n      (otterRef.current as any).position.x -= moveSpeed;\r\n      targetRotation = -Math.PI / 2;\r\n      moving = true;\r\n    }\r\n    if (keysRef.current.ArrowRight || keysRef.current.d) {\r\n      (otterRef.current as any).position.x += moveSpeed;\r\n      targetRotation = Math.PI / 2;\r\n      moving = true;\r\n    }\r\n\r\n    if (moving) {\r\n      (otterRef.current as any).rotation.y = THREE.MathUtils.lerp((otterRef.current as any).rotation.y, targetRotation, 0.2);\r\n    }\r\n\r\n    // Keep otter within bounds\r\n    (otterRef.current as any).position.x = Math.max(-20, Math.min(20, (otterRef.current as any).position.x));\r\n    (otterRef.current as any).position.z = Math.max(-49, Math.min(49, (otterRef.current as any).position.z));\r\n\r\n    // Calculate current speed based on level\r\n    const currentSpeed = baseSpeedRef.current * (1 + (level - 1) * 0.15);\r\n\r\n    // Update obstacle spawn interval based on level\r\n    currentObstacleIntervalRef.current = Math.max(100, obstacleSpawnIntervalRef.current - (level * 20));\r\n\r\n    // Spawn obstacles and fish\r\n    const currentTime = Date.now();\r\n    if (currentTime - lastObstacleTimeRef.current > currentObstacleIntervalRef.current) {\r\n      createObstacle();\r\n      if (Math.random() < (level * 0.1)) {\r\n        createObstacle();\r\n      }\r\n      lastObstacleTimeRef.current = currentTime;\r\n    }\r\n\r\n    if (currentTime - lastFishTimeRef.current > 1500) {\r\n      createFish();\r\n      lastFishTimeRef.current = currentTime;\r\n    }\r\n\r\n    // Update obstacles\r\n    for (let i = obstaclesRef.current.length - 1; i >= 0; i--) {\r\n      const obstacle = obstaclesRef.current[i];\r\n      (obstacle as any).position.z += currentSpeed;\r\n      \r\n      if ((obstacle as any).position.z > 10) {\r\n        sceneRef.current?.remove(obstacle);\r\n        obstaclesRef.current.splice(i, 1);\r\n      }\r\n    }\r\n\r\n    // Update fish\r\n    for (let i = fishRef.current.length - 1; i >= 0; i--) {\r\n      const fish = fishRef.current[i];\r\n      const fishType = (fish as any).userData.type;\r\n      const fishSpeed = FISH_TYPES[fishType].speed * currentSpeed;\r\n      \r\n      (fish as any).position.z += fishSpeed;\r\n      (fish as any).position.y = 0.5 + Math.sin(Date.now() * 0.003 + i) * 0.1;\r\n      \r\n      if ((fish as any).position.z > 10) {\r\n        sceneRef.current?.remove(fish);\r\n        fishRef.current.splice(i, 1);\r\n      }\r\n    }\r\n\r\n    // Update game time\r\n    gameTimeRef.current += 1/120;\r\n    setGameTime(gameTimeRef.current);\r\n\r\n    // Check collisions\r\n    checkCollisions();\r\n\r\n    // Update environment\r\n    updateEnvironment();\r\n  };\r\n\r\n  const checkCollisions = () => {\r\n    if (!gameStarted || gameOver || !otterRef.current || !sceneRef.current) return;\r\n    const scene = sceneRef.current;\r\n\r\n    // Check obstacle collisions\r\n    for (let i = obstaclesRef.current.length - 1; i >= 0; i--) {\r\n      const obstacle = obstaclesRef.current[i];\r\n      const distance = (otterRef.current as any).position.distanceTo((obstacle as any).position);\r\n      if (distance < 1.5) {\r\n        setLives(prev => prev - 1);\r\n        scene.remove(obstacle);\r\n        obstaclesRef.current.splice(i, 1);\r\n        if (lives <= 1) {\r\n          endGame();\r\n        }\r\n      }\r\n    }\r\n\r\n    // Check fish collisions\r\n    for (let i = fishRef.current.length - 1; i >= 0; i--) {\r\n      const fish = fishRef.current[i];\r\n      const distance = (otterRef.current as any).position.distanceTo((fish as any).position);\r\n      if (distance < 1.5) {\r\n        setScore(prev => prev + 1);\r\n        scene.remove(fish);\r\n        fishRef.current.splice(i, 1);\r\n      }\r\n    }\r\n  };\r\n\r\n  const endGame = () => {\r\n    setGameOver(true);\r\n    setGameStarted(false);\r\n    if (timerIntervalRef.current) {\r\n      clearInterval(timerIntervalRef.current);\r\n    }\r\n  };\r\n\r\n  const updateEnvironment = () => {\r\n    if (!gameStarted || gameOver || !sceneRef.current) return;\r\n    const scene = sceneRef.current;\r\n\r\n    // Animate river surface\r\n    if (riverRef.current) {\r\n      const time = Date.now() * 0.001;\r\n      const vertices = (riverRef.current as any).geometry.attributes.position.array;\r\n      for (let i = 0; i < vertices.length; i += 3) {\r\n        const x = vertices[i];\r\n        const z = vertices[i + 2];\r\n        vertices[i + 1] = Math.sin(x * 0.5 + time) * 0.2 + Math.sin(z * 0.5 + time) * 0.2;\r\n      }\r\n      (riverRef.current as any).geometry.attributes.position.needsUpdate = true;\r\n      (riverRef.current as any).geometry.computeVertexNormals();\r\n    }\r\n\r\n    // Animate sun\r\n    if (scene.userData.sunGroup) {\r\n      const sun = scene.userData.sunGroup;\r\n      (sun as any).rotation.y += 0.0005;\r\n      (sun as any).rotation.z = Math.sin(Date.now() * 0.0003) * 0.05;\r\n    }\r\n\r\n    // Animate clouds\r\n    if (scene.userData.cloudGroup) {\r\n      const cloudGroup = scene.userData.cloudGroup;\r\n      cloudGroup.children.forEach((cloud: any) => {\r\n        (cloud as any).position.x += (cloud as any).userData.speed;\r\n        if ((cloud as any).position.x > 200) {\r\n          (cloud as any).position.x = -200;\r\n        }\r\n        (cloud as any).position.y += Math.sin(Date.now() * 0.001 + (cloud as any).position.x) * 0.01;\r\n      });\r\n    }\r\n  };\r\n\r\n  const onWindowResize = () => {\r\n    if (!cameraRef.current || !rendererRef.current) return;\r\n    const width = window.innerWidth;\r\n    const height = window.innerHeight;\r\n    \r\n    // Update camera\r\n    cameraRef.current.aspect = width / height;\r\n    cameraRef.current.updateProjectionMatrix();\r\n    \r\n    // Update renderer\r\n    rendererRef.current.setSize(width, height);\r\n    rendererRef.current.setPixelRatio(window.devicePixelRatio);\r\n  };\r\n\r\n  const onKeyDown = (event: KeyboardEvent) => {\r\n    if (keysRef.current.hasOwnProperty(event.key)) {\r\n      keysRef.current[event.key as keyof typeof keysRef.current] = true;\r\n    }\r\n  };\r\n\r\n  const onKeyUp = (event: KeyboardEvent) => {\r\n    if (keysRef.current.hasOwnProperty(event.key)) {\r\n      keysRef.current[event.key as keyof typeof keysRef.current] = false;\r\n    }\r\n  };\r\n\r\n  const resetGameState = () => {\r\n    setScore(0);\r\n    setLives(3);\r\n    setLevel(1);\r\n    setGameStarted(false);\r\n    setGameOver(false);\r\n    setGameTime(0);\r\n    obstaclesRef.current = [];\r\n    fishRef.current = [];\r\n    lastObstacleTimeRef.current = 0;\r\n    lastFishTimeRef.current = 0;\r\n    gameTimeRef.current = 0;\r\n    baseSpeedRef.current = 0.2;\r\n    currentObstacleIntervalRef.current = obstacleSpawnIntervalRef.current;\r\n  };\r\n\r\n  const createEnvironment = () => {\r\n    if (!sceneRef.current) return;\r\n    const scene = sceneRef.current;\r\n\r\n    // Create sun\r\n    const sunGeometry = new THREE.SphereGeometry(5, 32, 32);\r\n    const sunMaterial = new THREE.MeshBasicMaterial({\r\n      color: 0xffff00,\r\n      transparent: true,\r\n      opacity: 0.8\r\n    });\r\n    const sun = new THREE.Mesh(sunGeometry, sunMaterial) as THREE.Mesh;\r\n    (sun as any).position.set(30, 30, -50);\r\n    scene.add(sun);\r\n\r\n    // Add sun glow\r\n    const sunGlowGeometry = new THREE.SphereGeometry(6, 32, 32);\r\n    const sunGlowMaterial = new THREE.MeshBasicMaterial({\r\n      color: 0xffff00,\r\n      transparent: true,\r\n      opacity: 0.3\r\n    });\r\n    const sunGlow = new THREE.Mesh(sunGlowGeometry, sunGlowMaterial) as THREE.Mesh;\r\n    (sunGlow as any).position.set(30, 30, -50);\r\n    scene.add(sunGlow);\r\n\r\n    // Create clouds\r\n    const cloudGroup = new THREE.Group();\r\n    const cloudMaterial = new THREE.MeshStandardMaterial({\r\n      color: 0xFFFFFF,\r\n      transparent: true,\r\n      opacity: 0.9,\r\n      roughness: 0.8,\r\n      metalness: 0.2\r\n    });\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      const cloud = createCloud(cloudMaterial);\r\n      (cloud as any).position.set(\r\n        (Math.random() - 0.5) * 300,\r\n        20 + Math.random() * 15,\r\n        -100 - Math.random() * 200\r\n      );\r\n      (cloud as any).scale.set(\r\n        1 + Math.random(),\r\n        1 + Math.random(),\r\n        1 + Math.random()\r\n      );\r\n      cloud.userData = {\r\n        speed: 0.02 + Math.random() * 0.03,\r\n        initialX: (cloud as any).position.x\r\n      };\r\n      cloudGroup.add(cloud);\r\n    }\r\n    scene.add(cloudGroup);\r\n    scene.userData.sunGroup = sun;\r\n    scene.userData.cloudGroup = cloudGroup;\r\n  };\r\n\r\n  const createCloud = (material: THREE.Material) => {\r\n    const cloudGroup = new THREE.Group();\r\n    const numBlobs = 3 + Math.floor(Math.random() * 3);\r\n    for (let i = 0; i < numBlobs; i++) {\r\n      const blobGeometry = new THREE.SphereGeometry(1, 8, 8);\r\n      const blob = new THREE.Mesh(blobGeometry, material as unknown as THREE.MeshBasicMaterial) as THREE.Mesh;\r\n      (blob as any).position.set(\r\n        (Math.random() - 0.5) * 2,\r\n        (Math.random() - 0.5) * 2,\r\n        (Math.random() - 0.5) * 2\r\n      );\r\n      (blob as any).scale.set(\r\n        1 + Math.random(),\r\n        1 + Math.random(),\r\n        1 + Math.random()\r\n      );\r\n      cloudGroup.add(blob);\r\n    }\r\n    return cloudGroup;\r\n  };\r\n\r\n  const createRiver = () => {\r\n    if (!sceneRef.current) return;\r\n    const scene = sceneRef.current;\r\n\r\n    // Create main water platform\r\n    const waterGeometry = new THREE.PlaneGeometry(600, 600);\r\n    const waterMaterial = new THREE.MeshStandardMaterial({\r\n      color: 0x0077be,\r\n      roughness: 0.1,\r\n      metalness: 0.2,\r\n      transparent: true,\r\n      opacity: 1\r\n    }) as unknown as THREE.MeshBasicMaterial;\r\n    const water = new THREE.Mesh(waterGeometry, waterMaterial) as THREE.Mesh;\r\n    (water as any).rotation.x = -Math.PI / 2;\r\n    (water as any).position.y = -0.5;\r\n    (water as any).position.z = -300;\r\n    water.receiveShadow = true;\r\n    scene.add(water);\r\n\r\n    // Add bottom cover\r\n    const bottomCoverGeometry = new THREE.BoxGeometry(600, 2, 600);\r\n    const bottomCoverMaterial = new THREE.MeshStandardMaterial({\r\n      color: 0x0077be,\r\n      roughness: 0.1,\r\n      metalness: 0.2\r\n    }) as unknown as THREE.MeshBasicMaterial;\r\n    const bottomCover = new THREE.Mesh(bottomCoverGeometry, bottomCoverMaterial) as THREE.Mesh;\r\n    (bottomCover as any).position.set(0, -2, -300);\r\n    bottomCover.receiveShadow = true;\r\n    scene.add(bottomCover);\r\n\r\n    // Main river\r\n    const riverGeometry = new THREE.PlaneGeometry(40, 600, 40, 100);\r\n    const riverMaterial = new THREE.MeshStandardMaterial({\r\n      color: 0x0077be,\r\n      roughness: 1.0,\r\n      metalness: 0.0,\r\n      transparent: true,\r\n      opacity: 0.9\r\n    }) as unknown as THREE.MeshBasicMaterial;\r\n    const river = new THREE.Mesh(riverGeometry, riverMaterial) as THREE.Mesh;\r\n    (river as any).rotation.x = -Math.PI / 2;\r\n    (river as any).position.z = -300;\r\n    (river as any).position.y = 0.5;\r\n    river.receiveShadow = true;\r\n    scene.add(river);\r\n    riverRef.current = river;\r\n\r\n    // Add stream on the right side\r\n    const streamGeometry = new THREE.PlaneGeometry(15, 600, 20, 100);\r\n    const streamMaterial = new THREE.MeshStandardMaterial({\r\n      color: 0x00BFFF,\r\n      roughness: 1.0,\r\n      metalness: 0.0,\r\n      transparent: true,\r\n      opacity: 0.9\r\n    }) as unknown as THREE.MeshBasicMaterial;\r\n    const stream = new THREE.Mesh(streamGeometry, streamMaterial) as THREE.Mesh;\r\n    (stream as any).rotation.x = -Math.PI / 2;\r\n    (stream as any).position.z = -300;\r\n    (stream as any).position.y = 0.55;\r\n    (stream as any).position.x = 50;\r\n    stream.receiveShadow = true;\r\n    scene.add(stream);\r\n\r\n    // Add stream on the left side\r\n    const stream2 = stream.clone();\r\n    (stream2 as any).position.x = -50;\r\n    scene.add(stream2);\r\n  };\r\n\r\n  const createOtter = () => {\r\n    if (!sceneRef.current) return;\r\n    const scene = sceneRef.current;\r\n    const otter = new THREE.Group();\r\n\r\n    // Body\r\n    const bodyGeometry = new THREE.SphereGeometry(0.5, 16, 16);\r\n    const bodyMaterial = new THREE.MeshStandardMaterial({\r\n      color: 0x8B4513,\r\n      roughness: 0.7,\r\n      metalness: 0.1\r\n    }) as unknown as THREE.MeshBasicMaterial;\r\n    const body = new THREE.Mesh(bodyGeometry, bodyMaterial) as THREE.Mesh;\r\n    (body as any).scale.set(1, 0.8, 1.2);\r\n    body.castShadow = true;\r\n    otter.add(body);\r\n\r\n    // Head\r\n    const headGeometry = new THREE.SphereGeometry(0.45, 16, 16);\r\n    const headMaterial = new THREE.MeshStandardMaterial({\r\n      color: 0x8B4513,\r\n      roughness: 0.7,\r\n      metalness: 0.1\r\n    }) as unknown as THREE.MeshBasicMaterial;\r\n    const head = new THREE.Mesh(headGeometry, headMaterial) as THREE.Mesh;\r\n    (head as any).position.set(0, 0.3, 0.8);\r\n    head.castShadow = true;\r\n    otter.add(head);\r\n\r\n    // Snout\r\n    const snoutGeometry = new THREE.SphereGeometry(0.25, 16, 16);\r\n    const snoutMaterial = new THREE.MeshStandardMaterial({\r\n      color: 0x8B4513,\r\n      roughness: 0.7,\r\n      metalness: 0.1\r\n    }) as unknown as THREE.MeshBasicMaterial;\r\n    const snout = new THREE.Mesh(snoutGeometry, snoutMaterial) as THREE.Mesh;\r\n    (snout as any).position.set(0, 0.2, 1.2);\r\n    (snout as any).scale.set(1, 0.8, 0.6);\r\n    snout.castShadow = true;\r\n    otter.add(snout);\r\n\r\n    // Nose\r\n    const noseGeometry = new THREE.SphereGeometry(0.1, 8, 8);\r\n    const noseMaterial = new THREE.MeshStandardMaterial({ color: 0x000000 }) as unknown as THREE.MeshBasicMaterial;\r\n    const nose = new THREE.Mesh(noseGeometry, noseMaterial) as THREE.Mesh;\r\n    (nose as any).position.set(0, 0.2, 1.35);\r\n    otter.add(nose);\r\n\r\n    // Eyes\r\n    const eyeGeometry = new THREE.SphereGeometry(0.12, 8, 8);\r\n    const eyeMaterial = new THREE.MeshStandardMaterial({ color: 0x000000 }) as unknown as THREE.MeshBasicMaterial;\r\n    const leftEye = new THREE.Mesh(eyeGeometry, eyeMaterial) as THREE.Mesh;\r\n    const rightEye = new THREE.Mesh(eyeGeometry, eyeMaterial) as THREE.Mesh;\r\n    (leftEye as any).position.set(0.25, 0.4, 1.1);\r\n    (rightEye as any).position.set(-0.25, 0.4, 1.1);\r\n    otter.add(leftEye);\r\n    otter.add(rightEye);\r\n\r\n    // Ears\r\n    const earGeometry = new THREE.SphereGeometry(0.15, 8, 8);\r\n    const earMaterial = new THREE.MeshStandardMaterial({\r\n      color: 0x8B4513,\r\n      roughness: 0.7,\r\n      metalness: 0.1\r\n    }) as unknown as THREE.MeshBasicMaterial;\r\n    const leftEar = new THREE.Mesh(earGeometry, earMaterial) as THREE.Mesh;\r\n    const rightEar = new THREE.Mesh(earGeometry, earMaterial) as THREE.Mesh;\r\n    (leftEar as any).position.set(0.3, 0.6, 0.9);\r\n    (rightEar as any).position.set(-0.3, 0.6, 0.9);\r\n    otter.add(leftEar);\r\n    otter.add(rightEar);\r\n\r\n    // Tail\r\n    const tailGeometry = new THREE.SphereGeometry(0.4, 16, 16);\r\n    const tailMaterial = new THREE.MeshStandardMaterial({\r\n      color: 0x8B4513,\r\n      roughness: 0.7,\r\n      metalness: 0.1\r\n    }) as unknown as THREE.MeshBasicMaterial;\r\n    const tail = new THREE.Mesh(tailGeometry, tailMaterial) as THREE.Mesh;\r\n    (tail as any).position.set(0, 0.2, -1);\r\n    (tail as any).scale.set(1.5, 0.2, 0.8);\r\n    (tail as any).rotation.y = Math.PI / 2;\r\n    tail.castShadow = true;\r\n    otter.add(tail);\r\n\r\n    // Legs\r\n    const legGeometry = new THREE.SphereGeometry(0.2, 8, 8);\r\n    const legMaterial = new THREE.MeshStandardMaterial({\r\n      color: 0x8B4513,\r\n      roughness: 0.7,\r\n      metalness: 0.1\r\n    }) as unknown as THREE.MeshBasicMaterial;\r\n\r\n    const positions = [\r\n      [0.4, -0.2, 0.5],   // Front right\r\n      [-0.4, -0.2, 0.5],  // Front left\r\n      [0.4, -0.2, -0.5],  // Back right\r\n      [-0.4, -0.2, -0.5]  // Back left\r\n    ];\r\n\r\n    positions.forEach(pos => {\r\n      const leg = new THREE.Mesh(legGeometry, legMaterial) as THREE.Mesh;\r\n      (leg as any).position.set(...pos);\r\n      leg.castShadow = true;\r\n      otter.add(leg);\r\n    });\r\n\r\n    // Set initial position\r\n    (otter as any).position.set(0, 0.25, 0);\r\n    (otter as any).rotation.y = Math.PI;\r\n    scene.add(otter);\r\n    otterRef.current = otter;\r\n  };\r\n\r\n  const startGame = () => {\r\n    if (gameStarted) return;\r\n    \r\n    // Reset game state\r\n    setScore(0);\r\n    setLives(3);\r\n    setLevel(1);\r\n    setGameTime(0);\r\n    setGameOver(false);\r\n    setGameStarted(true);\r\n    \r\n    // Reset refs\r\n    lastObstacleTimeRef.current = Date.now();\r\n    lastFishTimeRef.current = Date.now();\r\n    gameTimeRef.current = 0;\r\n    baseSpeedRef.current = 0.2;\r\n    currentObstacleIntervalRef.current = obstacleSpawnIntervalRef.current;\r\n    \r\n    // Clear any existing obstacles and fish\r\n    if (sceneRef.current) {\r\n      obstaclesRef.current.forEach(obstacle => sceneRef.current!.remove(obstacle));\r\n      fishRef.current.forEach(fish => sceneRef.current!.remove(fish));\r\n      obstaclesRef.current = [];\r\n      fishRef.current = [];\r\n    }\r\n    \r\n    // Reset otter position\r\n    if (otterRef.current) {\r\n      (otterRef.current as any).position.set(0, 0.25, 0);\r\n      (otterRef.current as any).rotation.y = Math.PI;\r\n    }\r\n    \r\n    // Start level progression timer\r\n    if (timerIntervalRef.current) {\r\n      clearInterval(timerIntervalRef.current);\r\n    }\r\n    timerIntervalRef.current = setInterval(() => {\r\n      setLevel(prev => prev + 1);\r\n      baseSpeedRef.current += 0.02;\r\n    }, 15000);\r\n\r\n    // Force a re-render\r\n    if (rendererRef.current && sceneRef.current && cameraRef.current) {\r\n      rendererRef.current.render(sceneRef.current, cameraRef.current);\r\n    }\r\n  };\r\n\r\n  const restartGame = () => {\r\n    // Clear existing game elements\r\n    if (sceneRef.current) {\r\n      obstaclesRef.current.forEach(obstacle => sceneRef.current!.remove(obstacle));\r\n      fishRef.current.forEach(fish => sceneRef.current!.remove(fish));\r\n    }\r\n    \r\n    // Clear timer\r\n    if (timerIntervalRef.current) {\r\n      clearInterval(timerIntervalRef.current);\r\n    }\r\n    \r\n    // Reset game state\r\n    resetGameState();\r\n    setGameOver(false);\r\n    startGame();\r\n  };\r\n\r\n  const submitScore = () => {\r\n    const name = playerName.trim() || 'Anonymous';\r\n    const newScore = {\r\n      name,\r\n      score,\r\n      level,\r\n      time: Math.round(gameTime)\r\n    };\r\n    \r\n    const updatedLeaderboard = [...leaderboard, newScore]\r\n      .sort((a, b) => b.score - a.score)\r\n      .slice(0, 10);\r\n    \r\n    setLeaderboard(updatedLeaderboard);\r\n    localStorage.setItem('otterRiverLeaderboard', JSON.stringify(updatedLeaderboard));\r\n    setPlayerName('');\r\n  };\r\n\r\n  const returnToMenu = () => {\r\n    setGameOver(false);\r\n    setGameStarted(false);\r\n    resetGameState();\r\n    if (otterRef.current) {\r\n      (otterRef.current as any).position.set(0, 0.25, 0);\r\n      (otterRef.current as any).rotation.y = Math.PI;\r\n    }\r\n    if (sceneRef.current) {\r\n      obstaclesRef.current.forEach(obstacle => sceneRef.current!.remove(obstacle));\r\n      fishRef.current.forEach(fish => sceneRef.current!.remove(fish));\r\n      obstaclesRef.current = [];\r\n      fishRef.current = [];\r\n    }\r\n    return false;\r\n  };\r\n\r\n  const createObstacle = () => {\r\n    if (!gameStarted || gameOver || !sceneRef.current) return;\r\n\r\n    const random = Math.random();\r\n    let cumulativeProbability = 0;\r\n    let selectedType = 'rock';\r\n\r\n    for (const [type, properties] of Object.entries(OBSTACLE_TYPES)) {\r\n      cumulativeProbability += properties.probability;\r\n      if (random <= cumulativeProbability) {\r\n        selectedType = type;\r\n        break;\r\n      }\r\n    }\r\n\r\n    const obstacleProperties = OBSTACLE_TYPES[selectedType];\r\n    const obstacle = new THREE.Mesh(\r\n      obstacleProperties.geometry,\r\n      new THREE.MeshStandardMaterial({\r\n        color: obstacleProperties.color,\r\n        roughness: 0.8,\r\n        metalness: 0.2\r\n      }) as unknown as THREE.MeshBasicMaterial\r\n    ) as THREE.Mesh;\r\n    \r\n    (obstacle as any).position.x = (Math.random() - 0.5) * 40;\r\n    (obstacle as any).position.y = 0.5;\r\n    (obstacle as any).position.z = -60;\r\n    \r\n    (obstacle as any).rotation.x = Math.random() * Math.PI;\r\n    (obstacle as any).rotation.y = Math.random() * Math.PI;\r\n    (obstacle as any).rotation.z = Math.random() * Math.PI;\r\n    \r\n    (obstacle as any).scale.set(\r\n      obstacleProperties.scale,\r\n      obstacleProperties.scale,\r\n      obstacleProperties.scale\r\n    );\r\n    \r\n    obstacle.castShadow = true;\r\n    obstacle.userData = { type: 'obstacle', obstacleType: selectedType };\r\n    sceneRef.current.add(obstacle);\r\n    obstaclesRef.current.push(obstacle);\r\n  };\r\n\r\n  const createFish = () => {\r\n    if (!gameStarted || gameOver || !sceneRef.current) return;\r\n\r\n    const random = Math.random();\r\n    let cumulativeProbability = 0;\r\n    let selectedType = 'normal';\r\n\r\n    for (const [type, properties] of Object.entries(FISH_TYPES)) {\r\n      cumulativeProbability += properties.probability;\r\n      if (random <= cumulativeProbability) {\r\n        selectedType = type;\r\n        break;\r\n      }\r\n    }\r\n\r\n    const fishProperties = FISH_TYPES[selectedType];\r\n    const fish = new THREE.Mesh(\r\n      fishProperties.geometry,\r\n      new THREE.MeshStandardMaterial({\r\n        color: fishProperties.color,\r\n        roughness: 0.3,\r\n        metalness: 0.8\r\n      }) as unknown as THREE.MeshBasicMaterial\r\n    ) as THREE.Mesh;\r\n\r\n    (fish as any).position.x = (Math.random() - 0.5) * 40;\r\n    (fish as any).position.y = 0.5;\r\n    (fish as any).position.z = -60;\r\n    (fish as any).rotation.y = Math.PI / 2;\r\n    (fish as any).scale.set(\r\n      fishProperties.scale,\r\n      fishProperties.scale,\r\n      fishProperties.scale\r\n    );\r\n    fish.castShadow = true;\r\n    fish.userData = { type: selectedType, points: fishProperties.points };\r\n    sceneRef.current.add(fish);\r\n    fishRef.current.push(fish);\r\n  };\r\n\r\n  return (\r\n    <div ref={containerRef} style={{\r\n      width: '100%',\r\n      height: '100%',\r\n      position: 'relative',\r\n      overflow: 'hidden',\r\n      backgroundColor: '#000',\r\n      touchAction: 'none',\r\n      WebkitTouchCallout: 'none',\r\n      WebkitUserSelect: 'none',\r\n      KhtmlUserSelect: 'none',\r\n      MozUserSelect: 'none',\r\n      msUserSelect: 'none',\r\n      userSelect: 'none',\r\n      WebkitTapHighlightColor: 'transparent',\r\n      WebkitOverflowScrolling: 'touch'\r\n    }} className=\"game-container\">\r\n      <StartScreen />\r\n      <GameOverScreen />\r\n      <GameInfo />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Game; ","import React, { useEffect, useState } from 'react';\r\nimport { StyleSheet, Text, View, Dimensions } from 'react-native';\r\nimport { StatusBar } from 'expo-status-bar';\r\nimport Game from './src/Game';\r\n\r\nexport default function App() {\r\n  const [dimensions, setDimensions] = useState({\r\n    width: Dimensions.get('window').width,\r\n    height: Dimensions.get('window').height,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const subscription = Dimensions.addEventListener('change', ({ window }) => {\r\n      setDimensions({\r\n        width: window.width,\r\n        height: window.height,\r\n      });\r\n    });\r\n\r\n    return () => subscription?.remove();\r\n  }, []);\r\n\r\n  return (\r\n    <View style={[styles.container, { width: dimensions.width, height: dimensions.height }]}>\r\n      <Text style={styles.title}>Otter River Adventure</Text>\r\n      <Text style={styles.subtitle}>Mobile Version</Text>\r\n      <View style={styles.gameContainer}>\r\n        <Game />\r\n      </View>\r\n      <StatusBar style=\"auto\" />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n  },\r\n  subtitle: {\r\n    fontSize: 18,\r\n    color: '#666',\r\n    marginBottom: 20,\r\n  },\r\n  gameContainer: {\r\n    width: '100%',\r\n    height: '70%',\r\n    backgroundColor: '#f0f0f0',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n}); ","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [546], () => (__webpack_require__(6387)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["OBSTACLE_TYPES","rock","geometry","THREE","color","scale","probability","log","FISH_TYPES","normal","speed","points","rare","containerRef","useRef","_useState","useState","_useState2","_slicedToArray","score","setScore","_useState3","_useState4","lives","setLives","_useState5","_useState6","level","setLevel","_useState7","_useState8","gameStarted","setGameStarted","_useState9","_useState0","gameOver","setGameOver","_useState1","_useState10","playerName","setPlayerName","_useState11","JSON","parse","localStorage","getItem","_unused","defaultLeaderboard","_useState12","leaderboard","setLeaderboard","_useState13","_useState14","gameTime","setGameTime","sceneRef","cameraRef","rendererRef","otterRef","riverRef","obstaclesRef","fishRef","lastObstacleTimeRef","lastFishTimeRef","gameTimeRef","timerIntervalRef","baseSpeedRef","obstacleSpawnIntervalRef","currentObstacleIntervalRef","animationFrameRef","keysRef","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","w","a","s","d","_useState15","x","y","_useState16","touchStart","setTouchStart","_useState17","_useState18","touchActive","setTouchActive","useEffect","current","scene","background","fog","camera","window","innerWidth","innerHeight","position","set","lookAt","add","renderer","antialias","setSize","shadowMap","enabled","type","appendChild","domElement","ambientLight","directionalLight","castShadow","shadow","mapSize","width","height","createEnvironment","createRiver","createOtter","addEventListener","onWindowResize","onKeyDown","onKeyUp","handleTouchStart","e","preventDefault","stopPropagation","touch","touches","clientX","clientY","handleTouchMove","deltaX","deltaY","handleTouchEnd","Object","keys","forEach","key","passive","animate","requestAnimationFrame","update","render","removeEventListener","clearInterval","cancelAnimationFrame","dispose","removeChild","moveSpeed","moving","targetRotation","rotation","z","Math","PI","lerp","max","min","currentSpeed","currentTime","Date","now","createObstacle","random","createFish","i","length","_sceneRef$current","obstacle","remove","splice","_sceneRef$current2","fish","fishType","userData","fishSpeed","sin","checkCollisions","updateEnvironment","distanceTo","prev","endGame","time","vertices","attributes","array","needsUpdate","computeVertexNormals","sunGroup","sun","cloudGroup","children","cloud","aspect","updateProjectionMatrix","setPixelRatio","devicePixelRatio","event","hasOwnProperty","resetGameState","sunGeometry","sunMaterial","transparent","opacity","sunGlowGeometry","sunGlowMaterial","sunGlow","cloudMaterial","roughness","metalness","createCloud","initialX","material","numBlobs","floor","blobGeometry","blob","waterGeometry","waterMaterial","water","receiveShadow","bottomCoverGeometry","bottomCoverMaterial","bottomCover","riverGeometry","riverMaterial","river","streamGeometry","streamMaterial","stream","stream2","clone","otter","bodyGeometry","bodyMaterial","body","headGeometry","headMaterial","head","snoutGeometry","snoutMaterial","snout","noseGeometry","noseMaterial","nose","eyeGeometry","eyeMaterial","leftEye","rightEye","earGeometry","earMaterial","leftEar","rightEar","tailGeometry","tailMaterial","tail","legGeometry","legMaterial","pos","_position","leg","apply","_toConsumableArray","startGame","setInterval","restartGame","submitScore","newScore","name","trim","round","updatedLeaderboard","concat","sort","b","slice","setItem","stringify","cumulativeProbability","selectedType","_ref","entries","_ref2","obstacleProperties","obstacleType","push","_ref3","_ref4","fishProperties","_jsxs","ref","style","overflow","backgroundColor","touchAction","WebkitTouchCallout","WebkitUserSelect","KhtmlUserSelect","MozUserSelect","msUserSelect","userSelect","WebkitTapHighlightColor","WebkitOverflowScrolling","className","_jsx","top","left","display","flexDirection","justifyContent","alignItems","zIndex","fontFamily","fontSize","textShadow","marginBottom","fontWeight","onClick","padding","border","borderRadius","cursor","transition","textTransform","boxShadow","onMouseOver","currentTarget","onMouseOut","marginTop","textAlign","gap","value","onChange","target","placeholder","map","entry","index","toString","padStart","App","Dimensions","get","dimensions","setDimensions","subscription","View","styles","container","Text","title","subtitle","gameContainer","Game","StatusBar","StyleSheet","create","flex","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","r","n","getter","__esModule","definition","o","defineProperty","enumerable","obj","prop","prototype","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","runtime","some","id","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}